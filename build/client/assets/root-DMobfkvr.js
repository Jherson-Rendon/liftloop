import{d as m,e as p,r as i,j as e,R as g,O as w}from"./index-keZNs5ok.js";import{u as x}from"./useUserStore-CkyXIECU.js";import{u as y}from"./useTestDateStore-DkeVuR4_.js";import{j as S,k as j,_ as v,u as k,M as b,l as E,S as O}from"./components-ooYZhqzC.js";import"./storage-CmIiShv6.js";import"./index-1bZHM5go.js";/**
 * @remix-run/react v2.16.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let d="positions";function M({getKey:t,...s}){let{isSpaMode:n}=S(),r=m(),a=p();j({getKey:t,storageKey:d});let l=i.useMemo(()=>{if(!t)return null;let o=t(r,a);return o!==r.key?o:null},[]);if(n)return null;let c=((o,h)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let f=JSON.parse(sessionStorage.getItem(o)||"{}")[h||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(u){console.error(u),sessionStorage.removeItem(o)}}).toString();return i.createElement("script",v({},s,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(d)}, ${JSON.stringify(l)})`}}))}function L({message:t,type:s="info"}){const n={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[s];return e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:`${n} text-white px-6 py-3 rounded-lg shadow-lg`,children:t})})}function N(){const[t,s]=i.useState(typeof navigator<"u"?navigator.onLine:!0);return i.useEffect(()=>{function n(){s(!0)}function r(){s(!1)}return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),{isOnline:t}}function D(){const{enabled:t,testDate:s,setEnabled:n,setTestDate:r}=y(),[a,l]=g.useState(!1);return null}const U=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,100..900;1,100..900&display=swap"},{rel:"manifest",href:"/manifest.json"},{rel:"icon",href:"/favicon.ico"},{rel:"apple-touch-icon",href:"/icons/icon-192x192.png"}];function W(){const{currentUser:t,machines:s}=k(),{isOnline:n}=N(),r=m(),[a,l]=i.useState(!1),c=x(o=>o.setCurrentUserDirect);return i.useEffect(()=>{l(!0)},[]),i.useEffect(()=>{a&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").catch(o=>{console.error("Service Worker registration failed:",o)})},[a]),i.useEffect(()=>{a&&(document.title=`Gym Progress - ${r.pathname.slice(1)||"Home"}`)},[r,a]),i.useEffect(()=>{c(t)},[t,c]),e.jsxs("html",{lang:"en",className:"h-full",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:"#111827"}),e.jsx(b,{}),e.jsx(E,{})]}),e.jsxs("body",{className:"h-full bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100",children:[e.jsx(w,{context:{currentUser:t,machines:s}}),e.jsx(D,{}),a&&!n&&e.jsx(L,{message:"Modo sin conexi√≥n",type:"warning"}),e.jsx(M,{}),e.jsx(O,{})]})]})}export{W as default,U as links};
