import{r as a,j as e}from"./index-keZNs5ok.js";import{u as j,L as y}from"./components-ooYZhqzC.js";import"./index-1bZHM5go.js";function C(){const{users:b}=j(),[s,o]=a.useState(null),[c,i]=a.useState(""),[d,l]=a.useState(""),[u,m]=a.useState(!1),[x,g]=a.useState(""),p=t=>{o(t),i(""),l("")},f=async t=>{if(t.preventDefault(),m(!0),l(""),s&&c===s.code){const r=document.createElement("form");r.method="post",r.action="";const n=document.createElement("input");n.type="hidden",n.name="userId",n.value=s.id,r.appendChild(n),document.body.appendChild(r),r.submit()}else l("Código incorrecto");m(!1)},h=b.filter(t=>t.name.toLowerCase().includes(x.toLowerCase()));return e.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-b from-zinc-900 to-zinc-800",children:e.jsxs("div",{className:"px-8 py-12 rounded-lg bg-zinc-800/50 backdrop-blur-sm max-w-md w-full mx-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4 text-center",children:"Seleccionar Perfil"}),e.jsx("p",{className:"text-gray-300 mb-8 text-center",children:"Elige tu perfil para continuar"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:x,onChange:t=>g(t.target.value),className:"w-full mb-4 px-3 py-2 border border-gray-300 dark:border-zinc-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-zinc-700 dark:text-white"}),h.length===0?e.jsx("div",{className:"text-gray-400 text-center",children:"No se encontraron usuarios"}):h.map(t=>e.jsxs("button",{type:"button",className:"w-full flex items-center p-4 bg-zinc-700 rounded-lg hover:bg-zinc-600 transition-all duration-200",onClick:()=>p(t),children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-semibold",style:{backgroundColor:t.color},children:t.name.charAt(0)}),e.jsxs("div",{className:"ml-4 flex-1 text-left",children:[e.jsx("h3",{className:"text-white font-semibold",children:t.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Miembro desde ",new Date(t.createdAt).toLocaleDateString()]})]})]},t.id))]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(y,{to:"/profile/new",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Crear nuevo perfil"})}),s&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg shadow-xl p-8 w-full max-w-xs relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",onClick:()=>o(null),"aria-label":"Cerrar",children:"×"}),e.jsxs("h2",{className:"text-lg font-semibold mb-4 text-center text-gray-800 dark:text-gray-100",children:["Ingresa el código de acceso para ",e.jsx("span",{className:"font-bold",children:s.name})]}),e.jsxs("form",{onSubmit:f,children:[e.jsx("input",{type:"password",inputMode:"numeric",pattern:"[0-9]{4}",maxLength:4,minLength:4,autoFocus:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-zinc-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-zinc-700 dark:text-white mb-3 text-center text-lg tracking-widest",placeholder:"••••",value:c,onChange:t=>i(t.target.value.replace(/[^0-9]/g,"")),required:!0}),d&&e.jsx("div",{className:"text-red-600 text-sm mb-2 text-center",children:d}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,children:u?"Verificando...":"Ingresar"})]})]})})]})})}export{C as default};
